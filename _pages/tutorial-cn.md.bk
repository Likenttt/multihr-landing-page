# Multi HR: 多设备心率监测与分析工具

## 简介

Multi HR 是一个基于 Flutter 开发的跨平台应用（当前仅支持 iOS），专门用于同时监测和记录多个蓝牙心率设备的数据。它支持实时数据可视化、数据导出以及专业的统计分析功能，特别适合运动科学研究等领域的应用。分析案例见 -> 。

声明：本应用不用于医疗诊断，仅用于数码测评和科学研究。

## 下载地址

- [Multi HR iOS](https://apps.apple.com/us/app/multi-hr/id6739001386)
- [Multi HR Android](https://play.google.com/store/apps/details?id=com.niulasong.multihr)

## 主要功能

- 多设备同时连接与监测
- 实时心率数据可视化
- 数据记录与导出（Excel/CSV）
- 专业统计分析（皮尔逊相关系数、Bland-Altman 分析）
- 支持 Polar、佳明等主流支持 0x180D 服务的 BLE 心率设备（已经测试过 Polar H10，Polar Sense，BigRun Team，高驰 HR01，佳明 965 心率广播，明确不支持苹果手表，苹果手表心率数据需要通过第三方软件获取或通过蓝牙连接获取，并非通过 0x180D 服务获取）

## 使用指南

### 设备连接

- 启动应用后，点击右上角的搜索图标开始扫描设备
- 在可用设备列表中找到您的心率设备并连接
- 点击"连接"按钮建立连接
- 连接成功的设备将显示在"已连接设备"列表中

### 数据记录

- 点击右上角的录制按钮（红点图标）开始记录
- 记录过程中可以实时查看心率曲线图
- 再次点击录制按钮停止记录
- 选择数据处理方式：
  - 导出为 Excel
  - 导出为 CSV
  - 数据分析
  - 放弃数据

### 数据分析

本应用假定你使用多款心率设备，其中一款作为参考设备，其他设备作为测试设备。例如，你使用 Polar H10 作为参考设备，高驰心率臂带作为测试设备。

分析页面提供两种主要的统计分析方法：

#### 皮尔逊相关系数分析

- 皮尔逊相关系数（Pearson correlation coefficient）用于评估两个设备测量结果之间的线性相关性：
  - 取值范围：-1 到 1
  - 1：完全正相关
  - -1：完全负相关
  - 0：无线性相关
  - 解释标准：
    - |r| ≥ 0.8：强相关
    - 0.5 ≤ |r| < 0.8：中等相关
    - |r| < 0.5：弱相关

#### Bland-Altman 分析

- Bland-Altman 图是评估两种测量方法一致性的重要工具：
  - X 轴：两种方法测量值的平均值
  - Y 轴：两种方法测量值的差值
  - 中心线：平均差值
  - 上下限：95% 一致性界限（±1.96SD）
  - 解释要点：
    - 差值的分布是否在零线附近随机分布
    - 是否存在系统性偏差（中心线是否接近零）
    - 95%的点是否落在一致性界限内
    - 差值是否与测量值大小相关

### 数据导出

当前支持两种导出格式。

- Excel 格式（.xlsx）
  - 包含详细的时间戳
  - 多设备数据分列显示
- CSV 格式
  - 通用格式，易于导入其他分析软件
  - 包含基本的时间和心率数据

### 注意事项

- 使用前请确保：
  - 设备电量充足
  - 蓝牙已开启
  - 心率设备已正确佩戴
- 数据记录时：
  - 避免设备距离过远
  - 保持手机蓝牙稳定连接
  - 建议不要切换到后台运行，虽然有后台运行权限，但是进程可能会被系统杀死
- 分析数据时：
  - 确保数据量足够（建议录制 5 分钟以上）
  - 注意识别异常值
  - 结合实际场景解释分析结果

## 感谢

- 感谢@四鸽提供的 Polar 全套装备用于测试
